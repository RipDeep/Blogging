<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head') %>
    <title>Add New Blog</title>

    <style>
      body {
        background: #f5f7fa;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-image: url("https://images.pexels.com/photos/12658065/pexels-photo-12658065.jpeg");
      }

      /* https://images.pexels.com/photos/24778046/pexels-photo-24778046.jpeg */

      .form-container {
        max-width: 650px;
        margin: 50px auto;
        background: #ffffff94;

        border-radius: 1rem;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        padding: 2rem;
        transition: transform 0.2s ease-in-out;
      }

      .form-container:hover {
        transform: translateY(-3px);
      }

      .form-control {
        border-radius: 0.75rem;
        border: 1px solid #e0e0e0;
        padding: 0.8rem 1rem;
        font-size: 1rem;
        transition: all 0.2s ease-in-out;
      }

      .form-control:focus {
        border-color: #4f46e5;
        box-shadow: 0 0 0 0.25rem rgba(79, 70, 229, 0.25);
      }

      label {
        font-weight: 600;
        color: #333;
        margin-bottom: 0.5rem;
      }

      textarea {
        min-height: 150px;
      }

      .btn-modern {
        background: linear-gradient(135deg, #4f46e5, #3b82f6);
        border: none;
        border-radius: 0.75rem;
        padding: 0.8rem 1.5rem;
        font-size: 1rem;
        font-weight: 600;
        color: #fff;
        width: 100%;
        transition: all 0.3s ease-in-out;
      }

      .btn-modern:hover {
        background: linear-gradient(135deg, #4338ca, #2563eb);
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(59, 130, 246, 0.4);
      }



      .loader-overlay {
  display: none; /* hidden by default */
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(3px);
  z-index: 9999;
  justify-content: center;
  align-items: center;
}

.loader-box {
  background: #fff;
  padding: 40px 60px;
  border-radius: 16px;
  text-align: center;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  align-items: center;
}

.spinner {
  width: 60px;
  height: 60px;
  border: 6px solid #e0e0e0;
  border-top: 6px solid #4f46e5;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 20px;
}

@keyframes spin {
  100% { transform: rotate(360deg); }
}

.loader-box p {
  font-size: 1.2rem;
  font-weight: 600;
  color: #333;
}

.loader-box .dots::after {
  content: '';
  display: inline-block;
  width: 0.6em;
  animation: blink 1s infinite steps(1);
}

@keyframes blink {
  0%, 20% { content: ''; }
  40% { content: '.'; }
  60% { content: '..'; }
  80%, 100% { content: '...'; }
}

      
    </style>
  </head>
  <body>
    <%- include('./partials/nav') %>

    <div class="container">
      <div class="form-container">
        <h2 class="mb-4 text-center fw-bold" style="color: rgb(26, 28, 33)">
          Add New Blog
        </h2>
        <form
          action="/blog/add-new"
          method="post"
          enctype="multipart/form-data"
        >
          <div class="mb-3">
            <label for="coverImage" class="form-label">Cover Image</label>
            <input
              type="file"
              class="form-control"
              id="coverImage"
              name="coverImage"
              accept="image/*"
              aria-describedby="coverImage"
            />
          </div>
          <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input
              type="text"
              class="form-control"
              id="title"
              name="title"
              placeholder="Enter your blog title"
              aria-describedby="title"
            />
          </div>
          <div class="mb-3">
            <label for="body" class="form-label">Body</label>
            <textarea
              class="form-control"
              aria-label="With textarea"
              id="body"
              name="body"
              rows="9"
              placeholder="Write your blog content here..."
            ></textarea>
          </div>
          <div class="mb-3">
            <button class="btn btn-modern" type="submit">Publish Blog</button>
          </div>
        </form>
      </div>
    </div>

<!-- Loader Overlay -->
<div id="loader" class="loader-overlay">
  <div class="loader-box">
    <div class="spinner"></div>
    <p>Publishing your blog<span class="dots">...</span></p>
  </div>
</div>

<script>
  const form = document.querySelector("form");
const loader = document.getElementById("loader");

form.addEventListener("submit", () => {
  loader.style.display = "flex"; // show loader
});

</script>
    <%- include('./partials/scripts') %>
    <%- include('./partials/notifyScript') %>
  </body>
</html>
